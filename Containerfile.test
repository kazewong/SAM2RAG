# Use an official Node.js runtime as the parent image.
# This specifies the base image for our application.
FROM node:18-alpine

# Set the working directory inside the container.
# This is where our application code will live.
WORKDIR /app

# Copy the package.json and package-lock.json files from the host
# to the working directory in the container.
# This allows Docker to use a cached layer for dependencies.
COPY package*.json ./

# Install the application's dependencies.
# This command runs inside the container.
RUN npm install

# Copy the rest of the application code from the host
# to the working directory in the container.
COPY . .

# Expose a port to the outside world.
# This tells Docker that the container listens on the specified network port at runtime.
EXPOSE 3000

# Define the command to run the application when the container starts.
# This is the final step that starts our Node.js server.
CMD ["npm", "start"]
